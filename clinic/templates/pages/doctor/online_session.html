{% extends "pages/doctor/D_base.html" %}
{% load static %}

{% block titles %}Online Session|| Nepal's Care {% endblock titles %}

{% block pageof %} Online Session{% endblock pageof %}
{% block linkPageof %} /d/online-session/ {% endblock linkPageof %}

{% block styles %}




{% endblock styles %}

{% block content %}

<div class="min-h-screen flex flex-col">
    <div class="flex flex-1">
        <main class="flex-1 p-6">
            <div class="flex justify-between items-center mb-6">
                <h1 class="text-2xl font-bold text-gray-800">Online Sessions</h1>
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <span class="absolute inset-y-0 left-0 flex items-center pl-3">
                            <svg class="text-gray-400" width="16" height="16" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                        </span>
                        <input type="text" placeholder="Search sessions..."
                            class="pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                    </div>
                    <button
                        class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg text-sm flex items-center">
                        <i class="fas fa-cog mr-2"></i> Settings
                    </button>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <div class="flex justify-between items-center">
                    <div>
                        <h2 class="text-lg font-semibold text-gray-800">Your Current Status</h2>
                        <p class="text-gray-600 mt-1">You are available for online consultations</p>
                    </div>
                    <div class="flex items-center">
                        <span class="h-3 w-3 bg-green-500 rounded-full mr-2 status-indicator"></span>
                        <select
                            class="border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 status-select">
                            <option value="available">Available</option>
                            <option value="busy">Busy</option>
                            <option value="away">Away</option>
                            <option value="offline">Offline</option>
                        </select>
                    </div>
                </div>
            </div>

            <div id="upcoming-session" class="bg-white rounded-lg shadow-md p-6 mb-6 border-l-4 border-yellow-500">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-lg font-semibold text-gray-800">Upcoming Session</h2>
                    <span class="bg-yellow-100 text-yellow-800 text-xs px-3 py-1 rounded-full font-medium">Starting in 5
                        minutes</span>
                </div>
                <div class="flex items-center">
                    <img src="/api/placeholder/80/80" alt="Patient Avatar"
                        class="h-16 w-16 rounded-full mr-4 object-cover avatar">
                    <div class="flex-1">
                        <h3 class="font-medium text-gray-800 patient-name">Sarah Johnson</h3>
                        <p class="text-gray-600 text-sm type-time">Follow-up Consultation â€¢ 10:30 AM - 11:00 AM</p>
                        <p class="text-gray-500 text-sm mt-1 complaint">Chief Complaint: Persistent headache</p>
                    </div>
                    <div class="flex space-x-2">
                        <button
                            class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg text-sm join-button">Join
                            Session</button>
                        <button
                            class="border border-gray-300 hover:bg-gray-50 text-gray-600 py-2 px-4 rounded-lg text-sm reschedule-button">Reschedule</button>
                    </div>
                </div>
            </div>

            <h2 class="text-xl font-semibold text-gray-800 mb-4">Today's Sessions</h2>
            <div id="today-sessions" class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                <!-- Sessions inserted dynamically -->
            </div>

            <!-- Week Overview -->
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-semibold text-gray-800">Week Overview</h2>
                <div class="flex space-x-2">
                    <button class="border border-gray-300 hover:bg-gray-50 text-gray-600 p-2 rounded-lg text-sm">
                        <!-- Chevron Left SVG -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="15 18 9 12 15 6"></polyline>
                        </svg>
                    </button>
                    <button class="border border-gray-300 hover:bg-gray-50 text-gray-600 p-2 rounded-lg text-sm">
                        <!-- Chevron Right SVG -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </button>
                </div>
            </div>
            <!-- Rest of your code remains unchanged -->
            <div class="grid grid-cols-7 gap-4">
                <div class="bg-white rounded-lg shadow-sm p-4 text-center">
                    <p class="text-sm font-medium text-gray-800 mb-1">Mon</p>
                    <p class="text-xs text-gray-500 mb-2">Mar 24</p>
                    <div class="h-2 w-full bg-blue-500 rounded-full mb-1"></div>
                    <p class="text-xs font-medium text-blue-600">4 Sessions</p>
                </div>
                <div class="bg-white rounded-lg shadow-sm p-4 text-center">
                    <p class="text-sm font-medium text-gray-800 mb-1">Tue</p>
                    <p class="text-xs text-gray-500 mb-2">Mar 25</p>
                    <div class="h-2 w-full bg-blue-300 rounded-full mb-1"></div>
                    <p class="text-xs font-medium text-blue-600">2 Sessions</p>
                </div>
                <div class="bg-white rounded-lg shadow-sm p-4 text-center">
                    <p class="text-sm font-medium text-gray-800 mb-1">Wed</p>
                    <p class="text-xs text-gray-500 mb-2">Mar 26</p>
                    <div class="h-2 w-full bg-blue-400 rounded-full mb-1"></div>
                    <p class="text-xs font-medium text-blue-600">3 Sessions</p>
                </div>
                <div class="bg-white rounded-lg shadow-sm p-4 text-center">
                    <p class="text-sm font-medium text-gray-800 mb-1">Thu</p>
                    <p class="text-xs text-gray-500 mb-2">Mar 27</p>
                    <div class="h-2 w-full bg-blue-600 rounded-full mb-1"></div>
                    <p class="text-xs font-medium text-blue-600">5 Sessions</p>
                </div>
                <div class="bg-white rounded-lg shadow-sm p-4 text-center">
                    <p class="text-sm font-medium text-gray-800 mb-1">Fri</p>
                    <p class="text-xs text-gray-500 mb-2">Mar 28</p>
                    <div class="h-2 w-full bg-blue-300 rounded-full mb-1"></div>
                    <p class="text-xs font-medium text-blue-600">2 Sessions</p>
                </div>
                <div class="bg-white rounded-lg shadow-sm p-4 text-center bg-gray-50">
                    <p class="text-sm font-medium text-gray-400 mb-1">Sat</p>
                    <p class="text-xs text-gray-400 mb-2">Mar 29</p>
                    <div class="h-2 w-full bg-gray-200 rounded-full mb-1"></div>
                    <p class="text-xs font-medium text-gray-400">0 Sessions</p>
                </div>
                <div class="bg-white rounded-lg shadow-sm p-4 text-center bg-gray-50">
                    <p class="text-sm font-medium text-gray-400 mb-1">Sun</p>
                    <p class="text-xs text-gray-400 mb-2">Mar 30</p>
                    <div class="h-2 w-full bg-gray-200 rounded-full mb-1"></div>
                    <p class="text-xs font-medium text-gray-400">0 Sessions</p>
                </div>
            </div>
        </main>
        <!-- Right Sidebar for Quick Info -->
        <aside class="hidden lg:block w-80 bg-white shadow-md p-6">
            <div class="mb-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Session Tools</h3>
                <div class="space-y-3">
                    <button
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg text-sm flex items-center justify-center">
                        <i class="fas fa-video mr-2"></i> Start New Session
                    </button>
                    <button
                        class="w-full border border-gray-300 hover:bg-gray-50 text-gray-600 py-2 px-4 rounded-lg text-sm flex items-center justify-center">
                        <i class="fas fa-notes-medical mr-2"></i> Access Medical Records
                    </button>
                    <button
                        class="w-full border border-gray-300 hover:bg-gray-50 text-gray-600 py-2 px-4 rounded-lg text-sm flex items-center justify-center">
                        <i class="fas fa-prescription mr-2"></i> Write Prescription
                    </button>
                </div>
            </div>

            <div class="mb-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Upcoming Patient</h3>
                <div class="bg-blue-50 p-4 rounded-lg">
                    <div class="flex items-center mb-3">
                        <img src="/api/placeholder/80/80" alt="Patient Avatar"
                            class="h-10 w-10 rounded-full mr-3 object-cover">
                        <div>
                            <h4 class="font-medium text-gray-800">Sarah Johnson</h4>
                            <p class="text-gray-600 text-xs">32 years â€¢ Female</p>
                        </div>
                    </div>
                    <div class="space-y-2 mb-3">
                        <div class="flex items-start">
                            <i class="fas fa-clipboard-list text-gray-400 mt-1 mr-2 w-4"></i>
                            <div class="flex-1">
                                <p class="text-xs text-gray-500">Chief Complaint</p>
                                <p class="text-sm text-gray-800">Persistent headache for 2 weeks</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <i class="fas fa-pills text-gray-400 mt-1 mr-2 w-4"></i>
                            <div class="flex-1">
                                <p class="text-xs text-gray-500">Current Medications</p>
                                <p class="text-sm text-gray-800">Ibuprofen 400mg</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <i class="fas fa-calendar-check text-gray-400 mt-1 mr-2 w-4"></i>
                            <div class="flex-1">
                                <p class="text-xs text-gray-500">Last Visit</p>
                                <p class="text-sm text-gray-800">March 10, 2025</p>
                            </div>
                        </div>
                    </div>
                    <button
                        class="w-full border border-blue-400 hover:bg-blue-100 text-blue-600 py-2 px-4 rounded-lg text-xs flex items-center justify-center">
                        View Full Profile
                    </button>
                </div>
            </div>

            <div>
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Session Stats</h3>
                <div class="space-y-4">
                    <div class="bg-gray-50 p-3 rounded-lg flex items-center">
                        <div class="h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                            <i class="fas fa-calendar-check text-blue-600"></i>
                        </div>
                        <div>
                            <p class="text-sm text-gray-800 font-medium">4 Sessions Today</p>
                            <p class="text-xs text-gray-500">2 completed, 2 remaining</p>
                        </div>
                    </div>
                    <div class="bg-gray-50 p-3 rounded-lg flex items-center">
                        <div class="h-10 w-10 rounded-full bg-green-100 flex items-center justify-center mr-3">
                            <i class="fas fa-clock text-green-600"></i>
                        </div>
                        <div>
                            <p class="text-sm text-gray-800 font-medium">Average Duration</p>
                            <p class="text-xs text-gray-500">24 minutes per session</p>
                        </div>
                    </div>
                    <div class="bg-gray-50 p-3 rounded-lg flex items-center">
                        <div class="h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center mr-3">
                            <i class="fas fa-users text-purple-600"></i>
                        </div>
                        <div>
                            <p class="text-sm text-gray-800 font-medium">16 Patients This Week</p>
                            <p class="text-xs text-gray-500">4 new, 12 returning</p>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>
</div>


{% endblock content %}


{% block scripts %}

<script>
    const sessions = [
        { name: "Robert Chen", type: "Initial Consultation", time: "9:00 AM - 9:30 AM", status: "In Progress", avatar: "/api/placeholder/80/80" },
        { name: "Emily Wilson", type: "Follow-up", time: "8:00 AM - 8:30 AM", status: "Completed", avatar: "/api/placeholder/80/80" },
        { name: "Sarah Johnson", type: "Follow-up", time: "10:30 AM - 11:00 AM", status: "Up Next", avatar: "/api/placeholder/80/80", complaint: "Persistent headache for 2 weeks" },
        { name: "Michael Brown", type: "Initial Consultation", time: "2:00 PM - 2:45 PM", status: "Scheduled", avatar: "/api/placeholder/80/80" }
    ];

    function createSessionElement(session) {
        let borderColor, statusBadge, buttonText, buttonClass;
        switch (session.status) {
            case "In Progress":
                borderColor = "border-green-500";
                statusBadge = '<span class="bg-green-100 text-green-800 text-xs px-3 py-1 rounded-full font-medium">In Progress</span>';
                buttonText = "Continue Session";
                buttonClass = "bg-green-600 hover:bg-green-700 text-white";
                break;
            case "Completed":
                borderColor = "border-gray-300";
                statusBadge = '<span class="bg-gray-100 text-gray-800 text-xs px-3 py-1 rounded-full font-medium">Completed</span>';
                buttonText = "View Summary";
                buttonClass = "border border-gray-300 hover:bg-gray-50 text-gray-600";
                break;
            case "Up Next":
                borderColor = "border-yellow-500";
                statusBadge = '<span class="bg-yellow-100 text-yellow-800 text-xs px-3 py-1 rounded-full font-medium">Up Next</span>';
                buttonText = "View Details";
                buttonClass = "border border-gray-300 hover:bg-gray-50 text-gray-600";
                break;
            case "Scheduled":
                borderColor = "border-blue-200";
                statusBadge = '<span class="bg-blue-50 text-blue-600 text-xs px-3 py-1 rounded-full font-medium">Scheduled</span>';
                buttonText = "View Details";
                buttonClass = "border border-gray-300 hover:bg-gray-50 text-gray-600";
                break;
            default:
                borderColor = "border-gray-200";
                statusBadge = '';
                buttonText = "View Details";
                buttonClass = "border border-gray-300 hover:bg-gray-50 text-gray-600";
        }

        const div = document.createElement('div');
        div.className = `p-6 border-l-4 ${borderColor} border-b border-gray-100`;
        div.innerHTML = `
                <div class="flex items-center">
                    <div class="relative mr-4">
                        <img src="${session.avatar}" alt="Patient Avatar" class="h-12 w-12 rounded-full object-cover">
                        ${session.status === "In Progress" ? '<span class="absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"></span>' : ''}
                    </div>
                    <div class="flex-1">
                        <div class="flex justify-between items-start">
                            <div>
                                <h3 class="font-medium text-gray-800">${session.name}</h3>
                                <p class="text-gray-600 text-sm">${session.type} â€¢ ${session.time}</p>
                            </div>
                            ${statusBadge}
                        </div>
                    </div>
                    <button class="session-button ${buttonClass} py-2 px-4 rounded-lg text-sm">${buttonText}</button>
                </div>
            `;
        const button = div.querySelector('.session-button');
        button.addEventListener('click', () => {
            console.log(`${buttonText} for ${session.name}`);
        });
        return div;
    }

    const upcomingSessionContainer = document.getElementById('upcoming-session');
    const upcomingSession = sessions.find(session => session.status === "Up Next");
    if (upcomingSession) {
        upcomingSessionContainer.querySelector('.patient-name').textContent = upcomingSession.name;
        upcomingSessionContainer.querySelector('.type-time').textContent = `${upcomingSession.type} â€¢ ${upcomingSession.time}`;
        upcomingSessionContainer.querySelector('.complaint').textContent = `Chief Complaint: ${upcomingSession.complaint || 'N/A'}`;
        upcomingSessionContainer.querySelector('.avatar').src = upcomingSession.avatar;
        const joinButton = upcomingSessionContainer.querySelector('.join-button');
        const rescheduleButton = upcomingSessionContainer.querySelector('.reschedule-button');
        joinButton.addEventListener('click', () => {
            console.log(`Joining session with ${upcomingSession.name}`);
        });
        rescheduleButton.addEventListener('click', () => {
            console.log(`Rescheduling session with ${upcomingSession.name}`);
        });
    }

    const todaySessionsContainer = document.getElementById('today-sessions');
    sessions.forEach(session => {
        const sessionElement = createSessionElement(session);
        todaySessionsContainer.appendChild(sessionElement);
    });

    const statusSelect = document.querySelector('.status-select');
    const statusIndicator = document.querySelector('.status-indicator');
    statusSelect.addEventListener('change', () => {
        const value = statusSelect.value;
        let colorClass;
        switch (value) {
            case "available": colorClass = "bg-green-500"; break;
            case "busy": colorClass = "bg-yellow-500"; break;
            case "away": colorClass = "bg-orange-500"; break;
            case "offline": colorClass = "bg-gray-500"; break;
            default: colorClass = "bg-gray-500";
        }
        statusIndicator.className = `h-3 w-3 ${colorClass} rounded-full mr-2`;
    });
</script>






<script>

    dashboard_nav_all = document.querySelectorAll('.OnlineSession-nav a');
    dashboard_nav_all.forEach((nav) => {
        nav_innertab =
            nav.classList.add('border-l-4', 'border-blue-500', 'bg-blue-50', 'rounded');
    });
</script>


{% endblock scripts %}